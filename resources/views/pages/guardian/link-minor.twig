{% extends 'layouts/app.twig' %}
{% import 'macros/base.twig' as m %}
{% import 'macros/form.twig' as f %}

{% block title %}{{ __('guardian.link_minor') }}{% endblock %}

{% block content %}
<div class="container">
    {% include 'layouts/parts/messages.twig' %}

    <h1>{{ m.icon('link-45deg') }} {{ __('guardian.link_minor') }}</h1>

    <div class="row">
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">
                    {{ __('guardian.link_existing_minor') }}
                </div>
                <div class="card-body">
                    <p class="text-muted">{{ __('guardian.link_description') }}</p>

                    <form action="{{ url('/guardian/link') }}" method="post">
                        {{ csrf() }}

                        {{ f.input('minor_identifier', __('guardian.minor_username_or_email'), {
                            'required': true,
                            'info': __('guardian.enter_minor_identifier'),
                        }) }}

                        {{ f.select('relationship_type', __('guardian.relationship_type'), {
                            'parent': __('guardian.relationship.parent'),
                            'legal_guardian': __('guardian.relationship.legal_guardian'),
                            'delegated': __('guardian.relationship.delegated'),
                        }, {
                            'required': true,
                            'selected': 'parent',
                        }) }}

                        <div class="mt-4">
                            {{ f.submit(__('guardian.link_minor'), {'icon_left': 'link-45deg'}) }}
                            <a href="{{ url('/guardian') }}" class="btn btn-outline-secondary">
                                {{ __('form.cancel') }}
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">
                    {{ __('guardian.or_register_new') }}
                </div>
                <div class="card-body">
                    <p class="text-muted">{{ __('guardian.register_description') }}</p>
                    <a href="{{ url('/guardian/register') }}" class="btn btn-primary">
                        {{ m.icon('plus-circle') }} {{ __('guardian.register_minor') }}
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
